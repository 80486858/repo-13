---
title: Blog
in_menu: true
sort_info: 7
--- name:blog pipeline:erb,tags,blocks

<%
  max_posts_per_page = 10;
  pattern = /#{File.join(node.parent.absolute_lcn, '/')}blog\/.*html$/
  context.content_node.tree.node_access[:alcn].select {|alcn, n| alcn =~ pattern}.sort.reverse.slice(0,max_posts_per_page).each do |alcn, n|
  next if n.is_fragment?
%>
  	  <div class="post">
  	    <h2><%= dest_node.link_to(n) %></h2>
    	  <p>
    	  <webgen:block name="content" chain="<%= n.absolute_cn %>"/>
    	  
    	  <% if n.node_info[:page].blocks.has_key?('full_story') %> 
    	  <div class="read-more">
    	    <%= dest_node.link_to(n, {:link_text=>"Read more..."}) %>
    	  </div>
        <% end %>
        <div class="details">Posted by <%= n['author']%> on <%= n['created_at']%></div>
  	  </div>
<% end %>

--- name:overview pipeline:haml,tags

%h1 {project_name:} Blog

Updates you can't afford to miss!


