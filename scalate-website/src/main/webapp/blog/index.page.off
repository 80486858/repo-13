---
title: Scalate Blog
in_menu: false
sort_info: 7
--- name:head pipeline:ssp
<link rel="alternate" title="${project_name} RSS" href="index.rss" type="application/rss+xml">

--- name:overview
<h1>
${project_name} Blog <a href="index.rss"><img src="${uri("/images/rss.gif")}"/></a>
</h1>
The latest greatest news from the Scalate team

--- name:blog pipeline:ssp

<%
import org.fusesource.scalate.util.IOUtil._
import org.fusesource.scalate.page.PageFilter

val df = new java.text.SimpleDateFormat("yyyy'-'MM'-'dd HH:mm:ss Z")
val max_posts_per_page = 10;

val root = new File("src") / "main" / "webapp" / "blog"

files = root.recursiveList(_.name.endsWith(".page")).flatMap(
    file=>PageFilter.meta_data(context, file.text).map(x=>(file, df.parse(x.get("created_at").get) ) ) 
  ).sortWith((x,y)=> x._2.comareTo(y._2) ).map(_.1)

file.
%>
  	  <div class="post">
  	    <h2><%= context.dest_node.link_to(n) %></h2>
        <div class="details">Posted by <%= n['author']%> on <%= n['created_at']%></div>
    	  <p>
    	  <webgen:block name="content" chain="<%= n.acn %>"/>
        </p>
  	  </div>
<% end %>

